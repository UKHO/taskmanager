@using WorkflowDatabase.EF
@model Portal.Pages.DbAssessment._OperatorsModel
@*
    For more information on enabling MVC for empty projects, visit http://go.microsoft.com/fwlink/?LinkID=397860
*@
<div class="card mb-4 mt-3">
    <h6>Operators</h6>

    <div class="col-12">
        <div class="card-body p-2" id="operators">
            <div class="row">
                <div class="operator col-4">
                    <div class="row justify-content-start">
                        <div class="col-3 d-flex justify-content-start pr-0">@Html.LabelFor(model => model.Reviewer, new { @class = "col-form-label" })</div>
                        <div class="col-8">
                            <div class="text-input-wrap">

                                @if (Model.ParentPage == WorkflowStage.Review)
                                {
                                    @Html.TextBoxFor(model => model.Reviewer.DisplayName, new { @id = "Reviewer", @class = "form-text-input", autocomplete = "off", spellcheck = "false" })
                                }
                                else
                                {
                                    @Html.TextBoxFor(model => model.Reviewer, "", new { @disabled = "disabled", @id = "Reviewer", @class = "form-text-input", aria_labelledby = "Reviewer" })
                                }
                                @Html.HiddenFor(m => m.Reviewer.UserPrincipalName, new { @id = "hdnReviewerOperatorUpn" })
                            </div>
                        </div>
                    </div>
                </div>
                <div class="operator col-4">
                    <div class="row justify-content-start">
                        <div class="col-3 d-flex justify-content-start pr-0">@Html.LabelFor(model => model.Assessor, new { @class = "col-form-label" })</div>
                        <div class="col-8">
                            <div class="text-input-wrap">

                                @if (Model.ParentPage == WorkflowStage.Assess)
                                {
                                    @Html.TextBoxFor(model => model.Assessor, Model.Assessor.DisplayName, new { @id = "Assessor", @class = "form-text-input", autocomplete = "off", spellcheck = "false", aria_labelledby = "Assessor" })
                                }
                                else
                                {
                                    @Html.TextBoxFor(model => model.Assessor, "", new { @disabled = "disabled", @id = "Assessor", @class = "form-text-input", aria_labelledby = "Assessor" })
                                }
                                @Html.HiddenFor(m => m.Assessor.UserPrincipalName, new { @id = "hdnAssessorOperatorUpn" })
                            </div>
                        </div>
                    </div>
                </div>
                <div class="operator col-4">
                    <div class="row justify-content-start">
                        <div class="col-3 d-flex justify-content-start pr-0">@Html.LabelFor(model => model.Verifier, new { @class = "col-form-label" })</div>
                        <div class="col-8">
                            <div class="text-input-wrap">

                                @if (Model.ParentPage == WorkflowStage.Assess ||
                              Model.ParentPage == WorkflowStage.Verify)
                                {
                                    @Html.TextBoxFor(model => model.Verifier, Model.Verifier.DisplayName, new { @id = "Verifier", @class = "form-text-input", autocomplete = "off", spellcheck = "false", aria_labelledby = "Verifier" })
                                }
                                else
                                {
                                    @Html.TextBoxFor(model => model.Verifier, "", new { @disabled = "disabled", @id = "Verifier", @class = "form-text-input", aria_labelledby = "Verifier" })

                                }
                                @Html.HiddenFor(m => m.Verifier.UserPrincipalName, new { @id = "hdnVerifierOperatorUpn" })
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row justify-content-start">

                <div id="operatorsErrorMessages" class="dialog error collapse mt-3 pb-1">
                    <h5 class="mb-3">
                        <i class="fas fa-times-circle" style="font-size: 1rem;"></i>
                        <span>There's a problem</span>
                    </h5>
                    <ol id="operatorsErrorList" class="error-list"></ol>
                </div>
            </div>
        </div>
    </div>
</div>
